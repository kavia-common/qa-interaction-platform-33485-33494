{"is_source_file": true, "format": "JavaScript", "description": "This file provides API-related utility functions for a frontend application, including logic to determine whether to use mock data or real backend endpoints, error handling, and an exported function to ask questions to the backend API or mock.", "external_files": [], "external_methods": ["fetch"], "published": ["askQuestion"], "classes": [], "methods": [{"name": "toUserFriendlyError(err)", "description": "Converts various error types into user-friendly error messages, preserving details such as timeout, network, or HTTP errors.", "scope": "", "scopeKind": ""}, {"name": "askQuestionReal(question)", "description": "Performs an actual API call to the backend at the /ask endpoint, with timeout handling, and processes the response.", "scope": "", "scopeKind": ""}, {"name": "askQuestionMock(question)", "description": "Simulates backend response for testing or offline scenarios, returning a placeholder answer after some delay.", "scope": "", "scopeKind": ""}, {"name": "askQuestion(question)", "description": "Exports an asynchronous function that decides whether to call the real backend or mock implementation based on environment variable, and returns the answer.", "scope": "", "scopeKind": ""}], "calls": ["fetch", "clearTimeout", "setTimeout", "askQuestionReal", "askQuestionMock"], "search-terms": ["REACT_APP_API_URL", "askQuestion", "mock implementation", "backend API", "error handling", "Timeout", "fetch API"], "state": 2, "file_id": 13, "knowledge_revision": 47, "git_revision": "834b52dabed74b6d265b32638cb80d496aa4c9e8", "revision_history": [{"33": ""}, {"47": "834b52dabed74b6d265b32638cb80d496aa4c9e8"}], "ctags": [{"_type": "tag", "name": "API_BASE", "path": "/home/kavia/workspace/code-generation/qa-interaction-platform-33485-33494/q_and_a_frontend/src/services/api.js", "pattern": "/^ const API_BASE = (process && process.env && process.env.REACT_APP_API_URL) || '';$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "askQuestion", "path": "/home/kavia/workspace/code-generation/qa-interaction-platform-33485-33494/q_and_a_frontend/src/services/api.js", "pattern": "/^ export async function askQuestion(question) {$/", "language": "JavaScript", "kind": "function", "signature": "(question)"}, {"_type": "tag", "name": "askQuestionMock", "path": "/home/kavia/workspace/code-generation/qa-interaction-platform-33485-33494/q_and_a_frontend/src/services/api.js", "pattern": "/^ async function askQuestionMock(question) {$/", "language": "JavaScript", "kind": "function", "signature": "(question)"}, {"_type": "tag", "name": "askQuestionReal", "path": "/home/kavia/workspace/code-generation/qa-interaction-platform-33485-33494/q_and_a_frontend/src/services/api.js", "pattern": "/^ async function askQuestionReal(question) {$/", "language": "JavaScript", "kind": "function", "signature": "(question)"}, {"_type": "tag", "name": "isMock", "path": "/home/kavia/workspace/code-generation/qa-interaction-platform-33485-33494/q_and_a_frontend/src/services/api.js", "pattern": "/^ export const isMock = !API_BASE;$/", "language": "JavaScript", "kind": "constant"}, {"_type": "tag", "name": "toUserFriendlyError", "path": "/home/kavia/workspace/code-generation/qa-interaction-platform-33485-33494/q_and_a_frontend/src/services/api.js", "pattern": "/^ function toUserFriendlyError(err) {$/", "language": "JavaScript", "kind": "function", "signature": "(err)"}], "hash": "9a955a6a1bc92d0142c8de9a0faa70ad", "format-version": 4, "code-base-name": "q_and_a_frontend", "filename": "q_and_a_frontend/src/services/api.js"}